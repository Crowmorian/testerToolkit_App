<!-- HTML file containing the main page -->

{% extends "createClient.html" %}

{% block creation %}
<script type="text/javascript">  
    function showPopUp() {
        var popup = document.getElementById("legend");
        popup.classList.toggle("show");
    }

    function copyInputValue(findId) {
      // Get the text field
      var copyText = document.getElementById(findId).value;
      console.log(copyText)

      // Copy the text inside the text field
      navigator.clipboard.writeText(copyText);
    }

</script>
<form method="POST" action="/createIndividual">
    <div class="creation-content">
        <div class="popup" onclick="showPopUp()">Need help?
            <span class="popuptext" id="legend">
                <p>
                    Legend
                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean placerat. Etiam sapien elit, consequat eget, tristique non, venenatis quis, ante. Et harum quidem rerum facilis est et expedita distinctio. Proin mattis lacinia justo. Mauris suscipit, ligula sit amet pharetra semper, nibh ante cursus purus, vel sagittis velit mauris vel metus. Aliquam erat volutpat. Duis ante orci, molestie vitae vehicula venenatis, tincidunt ac pede. Nulla non arcu lacinia neque faucibus fringilla. Aenean fermentum risus id tortor. Nullam eget nisl. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam lectus justo, vulputate eget mollis sed, tempor sed magna. Nullam faucibus mi quis velit. Integer tempor. Duis ante orci, molestie vitae vehicula venenatis, tincidunt ac pede. Quisque tincidunt scelerisque libero. Integer rutrum, orci vestibulum ullamcorper ultricies, lacus quam ultricies odio, vitae placerat pede sem sit amet enim. Vestibulum fermentum tortor id mi. Etiam dictum tincidunt diam.
                </p>
            </span>
        </div>
        <table class="creation-table">
            <tr class="creation-track">
                <td class="creation-column" colspan="10">
                    {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        <div class="notification is-danger">
                            {{ messages[0] }}
                        </div>
                    {% endif %}
                    {% endwith %}
                </td>
            </tr>
            <tr class="generators-input-track">
                <td class="generators-input-column">
                    <label class="generators-label" for="individualUseFunky">Use Funky Names?</label>
                </td>
                <td class="generators-input-column">
                    <input class="generators-input-zero" type="checkbox" id="individualUseFunky" name="individualUseFunky" {{ "checked" if individualUseFunky == "on" }}>
                </td>
            </tr>
            <tr class="generators-input-track">
                <td class="generators-input-column">
                    <label class="generators-label" for="individualGender">Gender</label>
                </td>
                <td class="generators-input-column">
                    <select class="generators-input" name="individualGender" id="individualGender">
                        <option value="male" {% if individualGender=="male" %} selected {% endif %}>Male</option>
                        <option value="female" {% if individualGender=="female" %} selected {% endif %}>Female</option>
                    </select>
                </td>
            </tr>   
            <tr class="generators-input-track">
                <td class="generators-input-column">
                    <label class="generators-label" for="individualIsMinor">Minor?</label>
                </td>
                <td class="generators-input-column">
                    <input class="generators-input-zero" type="checkbox" id="individualIsMinor" name="individualIsMinor" {{ "checked" if individualIsMinor == "on" }}>
                </td>
            </tr>
            <tr class="generators-input-track">
                <td class="generators-input-column">
                    <label class="generators-label" for="individualNationality">Nationality</label>
                </td>
                <td class="generators-input-column">
                    <select class="generators-input" name="individualNationality" id="individualNationality">
                        <option value="cz" {% if individualNationality=="cz" %} selected {% endif %}>CZ</option>
                        <option value="eu" {% if individualNationality=="eu" %} selected {% endif %}>EU</option>
                        <option value="gb" {% if individualNationality=="gb" %} selected {% endif %}>GB</option>
                        <option value="us" {% if individualNationality=="us" %} selected {% endif %}>USA</option>
                    </select>
                </td>
            </tr>       
            <tr class="generators-input-track">
                <td colspan="2">
                    <input class="generators-button" type="submit" value="Generate">                        
                </td>
            </tr>
        </table>
    </div>
</form>
{% if individualCreated|length > 0 %}
<div class="creation-content">
    <div class="generated-content-title">Client</div>
        <table class="creation-table-created">
            <tr class="creation-track">
                <td class="creation-column">
                    <label class="generators-label-created">Name: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <table>
                        <tr>
                            <td style="width: 90%;">
                                <input class="generators-input-created" id="individualNameInput" type="text" name="individualNameInput" value="{{individualCreated[0][0]}} {{individualCreated[0][1]}}" readonly>
                            </td>
                            <td style="width: 10%;">
                                <button class="button-copy" onclick="copyInputValue('individualNameInput')">Copy text</button>
                            </td>
                        </tr>
                    </table>
                </td>
                <td class="creation-column">
                    <label class="generators-label-created">Date of Birth: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <input class="generators-input-created" id="individualDOBInput" type="text" name="individualDOBInput" value="{{individualCreated[4]}}" readonly>
                </td>
            </tr>
            <tr class="creation-track">
                {% if individualNationality == "cz" %}
                <td class="creation-column">
                    <label class="generators-label-created">PID: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <input class="generators-input-created" id="individualPIDInput" type="text" name="individualPIDInput" value="{{individualCreated[5]}}" readonly>
                </td>
                <td class="creation-column">
                    <label class="generators-label-created">ID: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <input class="generators-input-created" id="individualPassInput" type="text" name="individualPassInput" value="{{individualCreated[3]}}" readonly>
                </td>
                {% endif %}
                {% if individualNationality != "cz" %}
                <td class="creation-column">
                    <label class="generators-label-created">Passport: </label>
                </td>
                <td class="creation-column" colspan="5">
                    <input class="generators-input-created" id="individualPassInput" type="text" name="individualPassInput" value="{{individualCreated[3]}}" readonly>
                </td>
                {% endif %}
            </tr>
            <tr class="creation-track">
                <td class="creation-column">
                    <label class="generators-label-created">Address: </label>
                </td>
                <td class="creation-column" colspan="5">
                    <input class="generators-input-created" id="individualPIDInput" type="text" name="individualPIDInput" value="{{individualCreated[1][0]}}" readonly>
                </td>
            </tr>
            <tr class="creation-track">
                <td class="creation-column">
                    <label class="generators-label-created">City of Birth: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <input class="generators-input-created" id="individualPIDInput" type="text" name="individualPIDInput" value="{{individualCreated[1][1]}}" readonly>
                </td>
                <td class="creation-column">
                    <label class="generators-label-created">Country of Birth: </label>
                </td>
                <td class="creation-column" colspan="2">
                    <input class="generators-input-created" id="individualPIDInput" type="text" name="individualPIDInput" value="{{individualCreated[6]}}" readonly>
                </td>
            </tr>
            <tr class="creation-track">
                <td class="creation-column">
                    <label class="generators-label-created">Phone: </label>
                </td>
                <td class="creation-column">
                    <input class="generators-input-created" id="individualPhoneInput" type="text" name="individualPhoneInput" value="{{individualCreated[2]}}" readonly>
                </td>
                <td class="creation-column">
                    <label class="generators-label-created">Username: </label>
                </td>
                <td class="creation-column">
                    <input class="generators-input-created" id="individualUsernameInput" type="text" name="individualUsernameInput" value="{{individualCreated[0][2]}}" readonly>
                </td>
                <td class="creation-column">
                    <label class="generators-label-created">E-Mail: </label>
                </td>
                <td class="creation-column">
                    <input class="generators-input-created" id="individualMailInput" type="text" name="individualMailInput" value="{{individualCreated[0][3]}}" readonly>
                </td>
            </tr>
        </table>
        <!--<content class="generated-content-item">{{ individualCreated }} </content>-->
    </div>
</div>
{% endif %}
{% endblock %}