<!-- HTML file containing the main page -->

{% extends "generators.html" %}

{% block generation %}
<script type="text/javascript">  
    function showPopUp() {
        var popup = document.getElementById("legend");
        popup.classList.toggle("show");
    }
</script>
<form method="POST" action="/generateCIN">
    <div class="creation-content">
        <div class="popup" onclick="showPopUp()">Need help?
            <span class="popuptext" id="legend">
                <p>
                    Legend
                </p>
                <p>
                    Here you can generate CIN numbers of bussinesses or individuals. You can set how many will be generated at once. You can also choose between two modes. Either the generator will draw from existing numbers of real bussinesses or generate a completely random number.
                </p>
            </span>
        </div>
        <table class="creation-table">
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <tr class="creation-track">
                <td class="creation-column" colspan="10">                    
                    <div class="notification is-danger">
                        {{ messages[0] }}
                    </div>                    
                </td>
            </tr>
            {% endif %}
            {% endwith %}
            <tr class="generators-input-track">
                <td class="generators-input-column">            
                    <label class="generators-label" for="howManyCINs">How many CINs?</label>
                </td>
                <td class="generators-input-column">
                    <input class="generators-input" type="number" id="howManyCINs" name="howManyCINs" min="1" max="50" value="{{howManyCINs}}">
                </td>
            </tr>
            <tr class="generators-input-track">
                <td class="generators-input-column">
                    <label class="generators-label" for="cinGenMode">Mode</label>
                </td>
                <td class="generators-input-column">
                    <select class="generators-input-wide" name="cinGenMode" id="cinGenMode">
                        <option value="real" {% if cinGenMode=="real" %} selected {% endif %}>Existing</option>
                        <option value="random" {% if cinGenMode=="random" %} selected {% endif %}>Randomly Generated</option>
                    </select>
                </td>
            </tr>  
            <tr class="generators-input-track">
                <td colspan="10">
                    <input class="generators-button" type="submit" value="Generate">                        
                </td>
            </tr>
        </table>
    </div>
    {% if results|length > 0 %}
        <div class="creation-content-lower">
            <div class="generated-content-title">Generated CINs</div>
            {% for i in results %}
                <content class="generated-content-item" style="white-space: nowrap;">{{ i }} </content>
            {% endfor %}
        </div>
    {% endif %}
</form>
{% endblock %}